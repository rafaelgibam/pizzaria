-- MySQL Script generated by MySQL Workbench
-- Wed May 23 00:04:32 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema pizzaria
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema pizzaria
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `pizzaria` DEFAULT CHARACTER SET utf8 ;
USE `pizzaria` ;

-- -----------------------------------------------------
-- Table `pizzaria`.`ENDERECO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`ENDERECO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `LOGRADOURO` VARCHAR(255) NULL,
  `NUMERO` VARCHAR(10) NULL,
  `COMPLEMENTO` VARCHAR(45) NULL,
  `BAIRRO` VARCHAR(45) NULL,
  `MUNICIPIO` VARCHAR(45) NULL,
  `UF` VARCHAR(45) NULL,
  `PAIS` VARCHAR(45) NULL,
  `REFERENCIA` VARCHAR(45) NULL,
  `CEP` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`CLIENTE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `CPF` VARCHAR(11) NULL,
  `NOME` VARCHAR(255) NULL,
  `SEXO` VARCHAR(45) NULL,
  `DATA_NASC` DATE NULL,
  `NUM_FIXO` VARCHAR(45) NULL,
  `NUM_CELULAR` VARCHAR(45) NULL,
  `ESTADO` TINYINT NULL,
  `CRIADO_EM` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `ENDERECO_ID` INT NOT NULL,
  `RG` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`, `ENDERECO_ID`),
  INDEX `fk_CLIENTE_ENDERECO_idx` (`ENDERECO_ID` ASC),
  CONSTRAINT `fk_CLIENTE_ENDERECO`
    FOREIGN KEY (`ENDERECO_ID`)
    REFERENCES `pizzaria`.`ENDERECO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`COZINHEIRO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`COZINHEIRO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `CPF` VARCHAR(45) NULL,
  `RG` VARCHAR(45) NULL,
  `CNPJ` VARCHAR(45) NULL,
  `RAZAOSOCIAL` VARCHAR(45) NULL,
  `NOME` VARCHAR(255) NULL,
  `SEXO` VARCHAR(45) NULL,
  `DATA_NASC` DATE NULL,
  `NUM_FIXO` VARCHAR(45) NULL,
  `NUM_CELULAR` VARCHAR(45) NULL,
  `ESTADO` TINYINT NULL,
  `LOGRADOURO` VARCHAR(255) NULL,
  `NUMERO` VARCHAR(45) NULL,
  `COMPLEMENTO` VARCHAR(45) NULL,
  `BAIRRO` VARCHAR(45) NULL,
  `MUNICIPIO` VARCHAR(45) NULL,
  `UF` VARCHAR(45) NULL,
  `PAIS` VARCHAR(45) NULL,
  `REFERENCIA` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`PRODUTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`PRODUTO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NULL,
  `DESCRICAO` VARCHAR(255) NULL,
  `PRECO` FLOAT NULL,
  `ALTURA` FLOAT NULL,
  `COMPRIMENTO` FLOAT NULL,
  `LARGURA` FLOAT NULL,
  `PESO` FLOAT NULL,
  `ESTADO` TINYINT NULL,
  `FATIA` INT NULL,
  `BORDA` TINYINT NULL,
  `COZINHEIRO_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `COZINHEIRO_ID`),
  INDEX `fk_PRODUTO_COZINHEIRO1_idx` (`COZINHEIRO_ID` ASC),
  CONSTRAINT `fk_PRODUTO_COZINHEIRO1`
    FOREIGN KEY (`COZINHEIRO_ID`)
    REFERENCES `pizzaria`.`COZINHEIRO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`ITEM_PEDIDO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`ITEM_PEDIDO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `QTD` INT NULL,
  `PRODUTO_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `PRODUTO_ID`),
  INDEX `fk_ITEM_PEDIDO_PRODUTO1_idx` (`PRODUTO_ID` ASC),
  CONSTRAINT `fk_ITEM_PEDIDO_PRODUTO1`
    FOREIGN KEY (`PRODUTO_ID`)
    REFERENCES `pizzaria`.`PRODUTO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`PEDIDO_DELIVERY`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`PEDIDO_DELIVERY` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NUMERO` INT UNSIGNED NULL,
  `DATA_ABERTURA` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `DATA_FECHAMENTO` DATE NULL,
  `ESTADO` TINYINT NULL,
  `TOTAL` FLOAT NULL,
  `OBSERVACOES` VARCHAR(255) NULL,
  `ITEM_PEDIDO_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `ITEM_PEDIDO_ID`),
  INDEX `fk_PEDIDO_ITEM_PEDIDO1_idx` (`ITEM_PEDIDO_ID` ASC),
  CONSTRAINT `fk_PEDIDO_ITEM_PEDIDO1`
    FOREIGN KEY (`ITEM_PEDIDO_ID`)
    REFERENCES `pizzaria`.`ITEM_PEDIDO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`MOTOBOY`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`MOTOBOY` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `CPF` VARCHAR(45) NULL,
  `RG` VARCHAR(45) NULL,
  `NOME` VARCHAR(45) NULL,
  `SEXO` VARCHAR(45) NULL,
  `DATA_NASC` DATE NULL,
  `NUM_FIXO` VARCHAR(45) NULL,
  `NUM_CELULAR` VARCHAR(45) NULL,
  `ESTADO` TINYINT NULL,
  `DATA_ADMISSAO` DATE NULL,
  `SALARIO` FLOAT NULL,
  `PLACA` VARCHAR(7) NULL,
  `LOGRADOURO` VARCHAR(255) NULL,
  `NUMERO` VARCHAR(45) NULL,
  `COMPLEMENTO` VARCHAR(45) NULL,
  `BAIRRO` VARCHAR(45) NULL,
  `MUNICIPIO` VARCHAR(45) NULL,
  `UF` VARCHAR(45) NULL,
  `PAIS` VARCHAR(45) NULL,
  `REFERENCIA` VARCHAR(45) NULL,
  `CEP` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`DELIVERY`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`DELIVERY` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DATA_ENTREGA` DATE NULL,
  `PRECO` FLOAT NULL,
  `MOTOBOY_ID` INT NOT NULL,
  `PEDIDO_DELIVERY_ID` INT NOT NULL,
  `CLIENTE_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `MOTOBOY_ID`, `PEDIDO_DELIVERY_ID`, `CLIENTE_ID`),
  INDEX `fk_DELIVERY_MOTOBOY1_idx` (`MOTOBOY_ID` ASC),
  INDEX `fk_DELIVERY_PEDIDO_DELIVERY1_idx` (`PEDIDO_DELIVERY_ID` ASC),
  INDEX `fk_DELIVERY_CLIENTE1_idx` (`CLIENTE_ID` ASC),
  CONSTRAINT `fk_DELIVERY_MOTOBOY1`
    FOREIGN KEY (`MOTOBOY_ID`)
    REFERENCES `pizzaria`.`MOTOBOY` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DELIVERY_PEDIDO_DELIVERY1`
    FOREIGN KEY (`PEDIDO_DELIVERY_ID`)
    REFERENCES `pizzaria`.`PEDIDO_DELIVERY` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_DELIVERY_CLIENTE1`
    FOREIGN KEY (`CLIENTE_ID`)
    REFERENCES `pizzaria`.`CLIENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`GARCOM`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`GARCOM` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `CPF` VARCHAR(11) NULL,
  `RG` VARCHAR(45) NULL,
  `NOME` VARCHAR(255) NULL,
  `SEXO` VARCHAR(45) NULL,
  `DATA_NASC` DATE NULL,
  `NUM_FIXO` VARCHAR(45) NULL,
  `NUM_CELULAR` VARCHAR(45) NULL,
  `ESTADO` TINYINT NULL,
  `GOJETA` FLOAT NULL,
  `DATA_ADMISSAO` DATE NULL,
  `SALARIO` FLOAT NULL,
  `LOGRADOURO` VARCHAR(255) NULL,
  `NUMERO` VARCHAR(45) NULL,
  `COMPLEMENTO` VARCHAR(45) NULL,
  `BAIRRO` VARCHAR(45) NULL,
  `MUNICIPIO` VARCHAR(45) NULL,
  `UF` VARCHAR(45) NULL,
  `PAIS` VARCHAR(45) NULL,
  `REFERENCIA` VARCHAR(45) NULL,
  `CEP` VARCHAR(45) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`MESA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`MESA` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOME` VARCHAR(45) NULL,
  `NUMERO` INT UNSIGNED NULL,
  `COR` VARCHAR(45) NULL,
  `QTD_LUGAR` INT NULL,
  `PESO` FLOAT NULL,
  `ALTURA` FLOAT NULL,
  `COMPRIMENTO` FLOAT NULL,
  `LARGURA` FLOAT NULL,
  `ESTADO` TINYINT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `pizzaria`.`PEDIDO_PRESENCIAL`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `pizzaria`.`PEDIDO_PRESENCIAL` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NUMERO` INT NULL,
  `DATA_ABERTURA` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP,
  `DATA_FECHAMENTO` DATE NULL,
  `TOTAL` FLOAT NULL,
  `OBSERVACOES` VARCHAR(255) NULL,
  `GARCOM_ID` INT NOT NULL,
  `MESA_ID` INT NOT NULL,
  `ITEM_PEDIDO_ID` INT NOT NULL,
  `CLIENTE_ID` INT NOT NULL,
  PRIMARY KEY (`ID`, `GARCOM_ID`, `MESA_ID`, `ITEM_PEDIDO_ID`, `CLIENTE_ID`),
  INDEX `fk_PEDIDO_PRESENCIAL_GARCOM1_idx` (`GARCOM_ID` ASC),
  INDEX `fk_PEDIDO_PRESENCIAL_MESA1_idx` (`MESA_ID` ASC),
  INDEX `fk_PEDIDO_PRESENCIAL_ITEM_PEDIDO1_idx` (`ITEM_PEDIDO_ID` ASC),
  INDEX `fk_PEDIDO_PRESENCIAL_CLIENTE1_idx` (`CLIENTE_ID` ASC),
  CONSTRAINT `fk_PEDIDO_PRESENCIAL_GARCOM1`
    FOREIGN KEY (`GARCOM_ID`)
    REFERENCES `pizzaria`.`GARCOM` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_PRESENCIAL_MESA1`
    FOREIGN KEY (`MESA_ID`)
    REFERENCES `pizzaria`.`MESA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_PRESENCIAL_ITEM_PEDIDO1`
    FOREIGN KEY (`ITEM_PEDIDO_ID`)
    REFERENCES `pizzaria`.`ITEM_PEDIDO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_PEDIDO_PRESENCIAL_CLIENTE1`
    FOREIGN KEY (`CLIENTE_ID`)
    REFERENCES `pizzaria`.`CLIENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
